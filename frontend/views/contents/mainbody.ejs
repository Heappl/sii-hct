<div class="right_col" role="main">
<div class="">
    <div class="page-title">
    <div class="title_left">
        <h3>Current base status</h3>
    </div>
    </div>

    <div class="clearfix"></div>

    <div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_content">            
                <h5>You are ranked 2nd. <%=user.points %> points</h5>
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <strong>Oh no!</strong> Your area is under attack... fight back!
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <button type="button" class="btn btn-primary" onclick="javascript:add_computer(0)">Buy Laser Unit</button>
            <button type="button" class="btn btn-info" onclick="javascript:add_computer(1)">Upgrade Laser Unit</button>
            <div class="base3"></div>
            <div class="base2"></div>
            <div class="equipment">
                <h3>Cats you saved from aliens</h3>
                <script>
                    var n = <%=user.cats %>;
                    for (var i = 0; i < n; i++) {
                        document.writeln('<img src="http://placekitten.com/g/120/1' + (11 + i) + '"/>');
                    }
                </script>
            </div>
            <script>
                var base0 = [[5, 6, 7], [5 + 14, 6 + 14, 7 + 14], [5 + 14*2, 6 + 14*2, 7 + 14*2]];
                var base1 = [[5, 0, 7], [5 + 14, 2, 7 + 14], [5 + 14*2, 6 + 14*2, 7 + 14*2]];
                var base2 = [[5, 6, 6, 6, 7], [5 + 14, 3 * 14 +1, 6 + 14, 1, 7 + 14], [5 + 14*2, 6 + 14*2, 6 + 14*2, 6 + 14*2, 7 + 14*2]];
                generate_base("base2", base1);
                generate_base("base3", base2);

                function add_computer(i) {
                    var body = document.getElementsByClassName("base3")[0];
                    body.removeChild(body.firstElementChild);
                    if (i == 0 && base2[1][2] == 6 + 14) {
                        base2[1][2] = 3 * 14 + 1;
                    } else if (i == 1) {
                        if (base2[1][1] == 3 * 14 + 1) base2[1][1] = 3 * 14 + 2;
                        else if (base2[1][2] == 3 * 14 + 1) base2[1][2] = 3 * 14 + 2;
                    }
                    
                    generate_base("base3", base2);
                }
            </script>
            <p>Guild Area shield level:</p>
            <div class="progress">
                <div class="progress-bar-striped progress-bar-animated bg-danger" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"> 25%</div>
            </div>
            <p class="label">Artefact hunt progress:</p>
            <div class="progress">
                <div class="progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width: <%=user.points %>%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"> <%=user.points %> %</div>
            </div>
            <br/>
        </div>
        </div>
    </div>
    </div>
</div>
</div>